<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The REGRU Marketplace</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Garamond:ital,wght@0,400;0,700;1,400;1,700&family=Oswald:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/src/index.css">
</head>
<body class="flex flex-col h-screen overflow-hidden bg-background-secondary">
    <div id="error-display" style="position: fixed; top: 0; left: 0; right: 0; background-color: #fff0f0; color: #ff0000; padding: 10px; z-index: 9999; border-bottom: 1px solid #ff0000; max-height: 200px; overflow-y: auto; font-family: monospace; white-space: pre-wrap;"></div>
    <!-- Wallet Modal Structure (initially hidden) -->
    <div id="wallet-modal" style="position: fixed; inset: 0; background-color: rgba(0, 0, 0, 0.5); overflow-y: auto; z-index: 50; padding-top: 48px; padding-bottom: 48px;" class="hidden">
        <div style="position: relative; background-color: white; padding: 24px; box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05); border-radius: 8px; width: 500px; margin-left: auto; margin-right: auto; border: 1px solid #cccccc;">
            <div class="text-center">
                <h3 class="text-2xl leading-6 font-oswald text-main-color mb-6">Available Wallets</h3>
                <div class="mt-2 px-4 py-3">
                    <pre id="wallet-modal-results" class="text-sm bg-slate-50 p-4 rounded-md max-h-72 overflow-y-auto border border-gray-200 min-h-[4em] text-left whitespace-pre-wrap break-all">Fetching...</pre>
                </div>
                <div class="items-center px-6 py-4 mt-4 border-t border-gray-200">
                    <button id="close-wallet-modal-button" class="px-6 py-2.5 bg-main-color text-white text-base font-medium rounded-md w-full shadow-sm hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-main-color transition-opacity">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Simplified Application Header - can be enhanced per page -->
    <header id="app-header" class="bg-brand text-text-inverted p-4 flex justify-between items-center fixed top-0 left-0 right-0 h-16 shadow-md z-50">
        <div class="flex items-center">
            <span id="brand-logo" class="text-xl font-oswald font-bold mr-3">REGRU</span> 
            <span id="page-title-header" class="text-lg font-oswald text-text-inverted opacity-90"></span>
        </div>
        <div id="header-icons" class="flex items-center space-x-4">
            <!-- Wallet button is an example of an icon that might remain in the header -->
            <button id="open-wallet-modal-button" title="Wallets" class="text-text-inverted hover:text-accent-dark focus:outline-none">
                <i class="fas fa-wallet"></i>
            </button>
            <!-- Other global header icons could go here if needed -->
        </div>
    </header>

    <!-- Main Content Area - Pages will be rendered here -->
    <main id="page-content" class="flex-1 overflow-y-auto p-4">
        <!-- Placeholder content, will be replaced by JS -->
        <div class="text-center text-gray-500">
            <p class="text-lg">Loading application...</p>
        </div>
    </main>

    <!-- Bottom Tab Navigator -->
    <nav id="bottom-tab-bar" class="bg-background-primary border-t border-border fixed bottom-0 left-0 right-0 h-16 flex justify-around items-center shadow-top z-50">
        <button data-tab-id="home" class="flex flex-col items-center justify-center w-1/4 h-full text-text-secondary hover:text-brand focus:outline-none">
            <i class="fas fa-home text-xl mb-1"></i>
            <span class="text-xs">Home</span>
        </button>
        <button data-tab-id="search" class="flex flex-col items-center justify-center w-1/4 h-full text-text-secondary hover:text-brand focus:outline-none">
            <i class="fas fa-search text-xl mb-1"></i>
            <span class="text-xs">Search</span>
        </button>
        <button data-tab-id="cart" class="flex flex-col items-center justify-center w-1/4 h-full text-text-secondary hover:text-brand focus:outline-none relative">
            <i class="fas fa-shopping-cart text-xl mb-1"></i>
            <span class="text-xs">Cart</span>
            <span id="shopping-cart-count-display" class="absolute top-1 right-3 text-xs bg-accent text-white rounded-full h-4 w-4 flex items-center justify-center hidden">0</span>
        </button>
        <button data-tab-id="profile" class="flex flex-col items-center justify-center w-1/4 h-full text-text-secondary hover:text-brand focus:outline-none">
            <i class="fas fa-user-circle text-xl mb-1"></i>
            <span class="text-xs">Profile</span>
        </button>
    </nav>

    <script type="module" src="/src/main.ts"></script>
</body>
</html> 